#import dependencies
import requests
import time
from splinter import Browser
from bs4 import BeautifulSoup
import pandas as pd
import numpy as np

# import selenium and related libaries
import time
import os
from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from selenium.common.exceptions import TimeoutException
from selenium.webdriver.common.by import By
import selenium.webdriver.support.ui as ui
import selenium.webdriver.support.expected_conditions as EC

# set up the chrome driver
options = webdriver.ChromeOptions()
options.add_argument('--ignore-certificate-errors')
options.add_argument('--ignore-ssl-errors')
dir_path = os.path.dirname(os.path.realpath("booking.ipynb"))
chromedriver = dir_path + "/chromedriver"
os.environ["webdriver.chrome.driver"] = chromedriver
driver = webdriver.Chrome(chrome_options=options, executable_path=chromedriver)

# manually extract the main page for each district- period 3oct2018-4oct2018
pages = {}
pages[
    'Ampara'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2214877%3Bclass_interval%3D1%3Bdest_id%3D-2222251%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3Dkandy%3Bss_all%3D0%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DColombo%26%3B&ss=Ampara%2C+Ampara+District%2C+Sri+Lanka&ssne=Kandy&ssne_untouched=Kandy&city=-2222251&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=ampara&ac_position=0&ac_langcode=en&dest_id=-2212407&dest_type=city&place_id_lat=7.29112&place_id_lon=81.6724&search_pageview_id=89a27e03f3de00f6&search_selected=true&search_pageview_id=89a27e03f3de00f6&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Anuradhapura'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2222251%3Bclass_interval%3D1%3Bdest_id%3D-2212407%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DAmpara%252C%2520Ampara%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3Dampara%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DKandy%26%3B&ss=Anuradhapura%2C+Anuradhapura+District%2C+Sri+Lanka&ssne=Ampara&ssne_untouched=Ampara&city=-2212407&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Anuradhapura&ac_position=0&ac_langcode=en&dest_id=-2212786&dest_type=city&place_id_lat=8.33541&place_id_lon=80.40806&search_pageview_id=5af37e2dd2440107&search_selected=true'
pages[
    'Badulla'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2212407%3Bclass_interval%3D1%3Bdest_id%3D-2212786%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DAnuradhapura%252C%2520Anuradhapura%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DAnuradhapura%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DAmpara%26%3B&ss=Badulla%2C+Badulla+District%2C+Sri+Lanka&ssne=Anuradhapura&ssne_untouched=Anuradhapura&city=-2212786&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Badulla&ac_position=0&ac_langcode=en&dest_id=-2213252&dest_type=city&place_id_lat=6.98974&place_id_lon=81.05686&search_pageview_id=d3497e47a6dc003b&search_selected=true'
pages[
    'Batticaloa'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2212786%3Bclass_interval%3D1%3Bdest_id%3D-2213252%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DBadulla%252C%2520Badulla%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DBadulla%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DAnuradhapura%26%3B&ss=Batticaloa%2C+Batticaloa+District%2C+Sri+Lanka&ssne=Badulla&ssne_untouched=Badulla&city=-2213252&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Batticaloa&ac_position=0&ac_langcode=en&dest_id=-2213706&dest_type=city&place_id_lat=7.7356&place_id_lon=81.6942&search_pageview_id=4f977e53028b00e4&search_selected=true&search_pageview_id=4f977e53028b00e4&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Colombo'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2213252%3Bclass_interval%3D1%3Bdest_id%3D-2213706%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DBatticaloa%252C%2520Batticaloa%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DBatticaloa%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DBadulla%26%3B&ss=Colombo%2C+Colombo+District%2C+Sri+Lanka&ssne=Batticaloa&ssne_untouched=Batticaloa&city=-2213706&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Colombo&ac_position=0&ac_langcode=en&dest_id=-2214877&dest_type=city&iata=CMB&place_id_lat=6.933493&place_id_lon=79.845651&search_pageview_id=cd477e70c6e6004a&search_selected=true&search_pageview_id=cd477e70c6e6004a&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Galle'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2213706%3Bclass_interval%3D1%3Bdest_id%3D-2214877%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Biata%3DCMB%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DColombo%252C%2520Colombo%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DColombo%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DBatticaloa%26%3B&ss=Galle%2C+Galle+District%2C+Sri+Lanka&ssne=Colombo&ssne_untouched=Colombo&city=-2214877&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Galle&ac_position=0&ac_langcode=en&dest_id=-2217578&dest_type=city&place_id_lat=6.03285&place_id_lon=80.21494&search_pageview_id=8fa57e7d42ca004f&search_selected=true&search_pageview_id=8fa57e7d42ca004f&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Gampaha'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2214877%3Bclass_interval%3D1%3Bdest_id%3D-2217578%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DGalle%252C%2520Galle%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DGalle%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DColombo%26%3B&ss=Gampaha%2C+Gampaha+District%2C+Sri+Lanka&ssne=Galle&ssne_untouched=Galle&city=-2217578&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Gampaha&ac_position=0&ac_langcode=en&dest_id=-2217865&dest_type=city&place_id_lat=7.09167&place_id_lon=79.994202&search_pageview_id=b6e97e895fe0011b&search_selected=true'
pages[
    'Hambantota'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2217578%3Bclass_interval%3D1%3Bdest_id%3D-2217865%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DGampaha%252C%2520Gampaha%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DGampaha%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DGalle%26%3B&ss=Hambantota&ssne=Gampaha&ssne_untouched=Gampaha&city=-2217865&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1'
pages[
    'Jaffna'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2217865%3Bclass_interval%3D1%3Bdest_id%3D-2218946%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DHambantota%3Bss_all%3D0%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DGampaha%26%3B&ss=Jaffna%2C+Jaffna+District%2C+Sri+Lanka&ssne=Hambantota&ssne_untouched=Hambantota&city=-2218946&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Jaffna&ac_position=0&ac_langcode=en&dest_id=-2221040&dest_type=city&place_id_lat=9.66493&place_id_lon=80.00917&search_pageview_id=f5ea7eb3f3840182&search_selected=true&search_pageview_id=f5ea7eb3f3840182&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Kalutara'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2218946%3Bclass_interval%3D1%3Bdest_id%3D-2221040%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DJaffna%252C%2520Jaffna%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DJaffna%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DHambantota%26%3B&ss=Kalutara%2C+Kalutara+District%2C+Sri+Lanka&ssne=Jaffna&ssne_untouched=Jaffna&city=-2221040&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Kalutara&ac_position=0&ac_langcode=en&dest_id=-2221909&dest_type=city&place_id_lat=6.58352&place_id_lon=79.96125&search_pageview_id=fd097ec694780622&search_selected=true&search_pageview_id=fd097ec694780622&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Kandy'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2221909%3Bclass_interval%3D1%3Bdest_id%3D-2222251%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DKandy%3Bss_all%3D0%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DKalutara%26%3B&ss=Kandy%2C+Kandy+District%2C+Sri+Lanka&ssne=Kandy&ssne_untouched=Kandy&city=-2222251&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&search_pageview_id=cfec7ee14f830028&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0&ac_position=0&ac_langcode=en&dest_id=-2222251&dest_type=city&place_id_lat=7.293112&place_id_lon=80.635124&search_pageview_id=cfec7ee14f830028&search_selected=true&ss_raw=Kandy'
pages[
    'Kegalle'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2222251%3Bclass_interval%3D1%3Bdest_id%3D-2222251%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DKandy%252C%2520Kandy%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DKandy%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DKandy%26%3B&ss=Kegalle&ssne=Kandy&ssne_untouched=Kandy&city=-2222251&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1'
pages[
    'Kilinochchi'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2222251%3Bclass_interval%3D1%3Bdest_id%3D-2223150%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DKegalle%3Bss_all%3D0%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DKandy%26%3B&ss=Kilinochchi%2C+Kilinochchi+District%2C+Sri+Lanka&ssne=Kegalle&ssne_untouched=Kegalle&city=-2223150&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Kilinochchi&ac_position=0&ac_langcode=en&dest_id=-2223503&dest_type=city&place_id_lat=9.4&place_id_lon=80.400002&search_pageview_id=eca97ef0e1b401db&search_selected=true'
pages[
    'Kurunegala'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2223150%3Bclass_interval%3D1%3Bdest_id%3D-2223503%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DKilinochchi%252C%2520Kilinochchi%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DKilinochchi%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DKegalle%26%3B&ss=Kurunegala%2C+Kurunegala+District%2C+Sri+Lanka&ssne=Kilinochchi&ssne_untouched=Kilinochchi&city=-2223503&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Kurunegala&ac_position=0&ac_langcode=en&dest_id=-2225895&dest_type=city&place_id_lat=7.48667&place_id_lon=80.3647&search_pageview_id=c3527f008da10004&search_selected=true&search_pageview_id=c3527f008da10004&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Mannar'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2223503%3Bclass_interval%3D1%3Bdest_id%3D-2225895%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DKurunegala%252C%2520Kurunegala%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DKurunegala%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DKilinochchi%26%3B&ss=Mannar%2C+Mannar+District%2C+Sri+Lanka&ssne=Kurunegala&ssne_untouched=Kurunegala&city=-2225895&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Mannar&ac_position=0&ac_langcode=en&dest_id=-2227727&dest_type=city&place_id_lat=8.98333&place_id_lon=79.900002&search_pageview_id=76b78432dfa50199&search_selected=true&search_pageview_id=76b78432dfa50199&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Matale'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2225895%3Bclass_interval%3D1%3Bdest_id%3D-2227727%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DMannar%252C%2520Mannar%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DMannar%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DKurunegala%26%3B&ss=Matale%2C+Matale+District%2C+Sri+Lanka&ssne=Mannar&ssne_untouched=Mannar&city=-2227727&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Matale&ac_position=0&ac_langcode=en&dest_id=-2228024&dest_type=city&place_id_lat=7.47167&place_id_lon=80.624397&search_pageview_id=6f0a8447804b011c&search_selected=true&search_pageview_id=6f0a8447804b011c&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Matara'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2227727%3Bclass_interval%3D1%3Bdest_id%3D-2228024%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DMatale%252C%2520Matale%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DMatale%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DMannar%26%3B&ss=Matara%2C+Matara+District%2C+Sri+Lanka&ssne=Matale&ssne_untouched=Matale&city=-2228024&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Matara&ac_position=0&ac_langcode=en&dest_id=-2228033&dest_type=city&place_id_lat=5.94647&place_id_lon=80.54853&search_pageview_id=0f8b845dd7fa00f6&search_selected=true&search_pageview_id=0f8b845dd7fa00f6&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Monaragala'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2228024%3Bclass_interval%3D1%3Bdest_id%3D-2228033%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DMatara%252C%2520Matara%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DMatara%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DMatale%26%3B&ss=Monaragala%2C+Monaragala+District%2C+Sri+Lanka&ssne=Matara&ssne_untouched=Matara&city=-2228033&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Monaragala&ac_position=0&ac_langcode=en&dest_id=-2229074&dest_type=city&place_id_lat=6.86667&place_id_lon=81.349998&search_pageview_id=b384846f9ef90285&search_selected=true&search_pageview_id=b384846f9ef90285&ac_suggestion_list_length=3&ac_suggestion_theme_list_length=0'
pages[
    'Mullaitivu'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2228033%3Bclass_interval%3D1%3Bdest_id%3D-2229074%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DMonaragala%252C%2520Monaragala%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DMonaragala%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DMatara%26%3B&ss=Mullaitivu&ssne=Monaragala&ssne_untouched=Monaragala&city=-2229074&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1'
pages[
    'NuwaraEliya'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2229074%3Bclass_interval%3D1%3Bdest_id%3D6009%3Bdest_type%3Dregion%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DMullaitivu%3Bss_all%3D0%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DMonaragala%26%3B&ss=Nuwara+Eliya%2C+Nuwara+Eliya+District%2C+Sri+Lanka&ssne=Mullaitivu+District&ssne_untouched=Mullaitivu+District&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=NuwaraEliya&ac_position=0&ac_langcode=en&dest_id=-2231099&dest_type=city&place_id_lat=6.970833&place_id_lon=80.783249&search_pageview_id=f5ea848c55fc01e4&search_selected=true&search_pageview_id=f5ea848c55fc01e4&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Polonnaruwa'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bclass_interval%3D1%3Bdest_id%3D-2231099%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DNuwara%2520Eliya%252C%2520Nuwara%2520Eliya%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DNuwaraEliya%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DMullaitivu%2520District%26%3B&ss=Polonnaruwa%2C+Polonnaruwa+District%2C+Sri+Lanka&ssne=Nuwara+Eliya&ssne_untouched=Nuwara+Eliya&city=-2231099&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Polonnaruwa&ac_position=0&ac_langcode=en&dest_id=-2233982&dest_type=city&place_id_lat=7.93976&place_id_lon=81.00032&search_pageview_id=e77b84be4a3e0052&search_selected=true&search_pageview_id=e77b84be4a3e0052&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Puttalam'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2231099%3Bclass_interval%3D1%3Bdest_id%3D-2233982%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DPolonnaruwa%252C%2520Polonnaruwa%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DPolonnaruwa%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DNuwara%2520Eliya%26%3B&ss=Puttalam%2C+Puttalam+District%2C+Sri+Lanka&ssne=Polonnaruwa&ssne_untouched=Polonnaruwa&city=-2233982&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Puttalam&ac_position=0&ac_langcode=en&dest_id=-2234590&dest_type=city&place_id_lat=8.03027&place_id_lon=79.82906&search_pageview_id=b9eb84c853e001a5&search_selected=true&search_pageview_id=b9eb84c853e001a5&ac_suggestion_list_length=3&ac_suggestion_theme_list_length=0'
pages[
    'Ratnapura'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2233982%3Bclass_interval%3D1%3Bdest_id%3D-2234590%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DPuttalam%252C%2520Puttalam%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DPuttalam%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DPolonnaruwa%26%3B&ss=Ratnapura%2C+Ratnapura+District%2C+Sri+Lanka&ssne=Puttalam&ssne_untouched=Puttalam&city=-2234590&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Ratnapura&ac_position=0&ac_langcode=en&dest_id=-2235153&dest_type=city&place_id_lat=6.68048&place_id_lon=80.40192&search_pageview_id=0f7984d0850900ab&search_selected=true&search_pageview_id=0f7984d0850900ab&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Trincomalee'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2234590%3Bclass_interval%3D1%3Bdest_id%3D-2235153%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DRatnapura%252C%2520Ratnapura%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DRatnapura%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DPuttalam%26%3B&ss=Trincomalee%2C+Trincomalee+District%2C+Sri+Lanka&ssne=Ratnapura&ssne_untouched=Ratnapura&city=-2235153&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Trincomalee&ac_position=0&ac_langcode=en&dest_id=-2237624&dest_type=city&place_id_lat=8.57652&place_id_lon=81.22945&search_pageview_id=cd2f84d96fa901ec&search_selected=true&search_pageview_id=cd2f84d96fa901ec&ac_suggestion_list_length=5&ac_suggestion_theme_list_length=0'
pages[
    'Vavuniya'] = 'https://www.booking.com/searchresults.html?aid=304142&label=gen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID&sid=24858d6a0eacce15ea5f1038b3f05ea9&sb=1&src=searchresults&src_elem=sb&error_url=https%3A%2F%2Fwww.booking.com%2Fsearchresults.html%3Faid%3D304142%3Blabel%3Dgen173nr-1FCAEoggJCAlhYSDNYBGiFAYgBAZgBMcIBCndpbmRvd3MgMTDIAQzYAQHoAQH4AQKSAgF5qAID%3Bsid%3D24858d6a0eacce15ea5f1038b3f05ea9%3Bcheckin_month%3D10%3Bcheckin_monthday%3D3%3Bcheckin_year%3D2018%3Bcheckout_month%3D10%3Bcheckout_monthday%3D4%3Bcheckout_year%3D2018%3Bcity%3D-2235153%3Bclass_interval%3D1%3Bdest_id%3D-2237624%3Bdest_type%3Dcity%3Bdtdisc%3D0%3Bfrom_sf%3D1%3Bgroup_adults%3D2%3Bgroup_children%3D0%3Binac%3D0%3Bindex_postcard%3D0%3Blabel_click%3Dundef%3Bno_rooms%3D1%3Boffset%3D0%3Bpostcard%3D0%3Braw_dest_type%3Dcity%3Broom1%3DA%252CA%3Bsb_price_type%3Dtotal%3Bsearch_selected%3D1%3Bsrc%3Dsearchresults%3Bsrc_elem%3Dsb%3Bss%3DTrincomalee%252C%2520Trincomalee%2520District%252C%2520Sri%2520Lanka%3Bss_all%3D0%3Bss_raw%3DTrincomalee%3Bssb%3Dempty%3Bsshis%3D0%3Bssne_untouched%3DRatnapura%26%3B&ss=Vavuniya%2C+Vavuniya+District%2C+Sri+Lanka&ssne=Trincomalee&ssne_untouched=Trincomalee&city=-2237624&checkin_month=10&checkin_monthday=3&checkin_year=2018&checkout_month=10&checkout_monthday=4&checkout_year=2018&group_adults=2&group_children=0&no_rooms=1&from_sf=1&ss_raw=Vavuniya&ac_position=0&ac_langcode=en&dest_id=-2238868&dest_type=city&place_id_lat=8.75934&place_id_lon=80.49996&search_pageview_id=0ac984e17a1f02f0&search_selected=true&search_pageview_id=0ac984e17a1f02f0&ac_suggestion_list_length=3&ac_suggestion_theme_list_length=0'

# create a python list to store the hotel urls
pages_url = []

# loop through each page
for key, value in pages.items():

    driver.get(value)
    time.sleep(5)  # Let the user actually see something!

    # scrape the page
    html_content = driver.page_source

    # parse the html and store the results in a beautifulsoup object
    soup = BeautifulSoup(html_content, 'lxml')

    try:
        # get the number of pages
        pages = int(
            soup.find_all(
                'li',
                class_='bui-pagination__item')[-2].get_text().strip()) - 1
    except:
        # assign 0 to pages
        pages = 0

    url_main = 'https://www.booking.com'  #main url

    # get the hotel urls in the main page
    for a in soup.find_all('a', class_='hotel_name_link url', href=True):
        url_sub = a['href'].strip()
        pages_url.append(''.join([url_main, url_sub]))

    # get the hotel urls for each of the pages
    for _ in range(pages):
        driver.find_element_by_xpath(
            '//*[@id="search_results_table"]/div[4]/div[1]/ul/li[3]/a').click(
            )
        time.sleep(5)

        # scrape the page
        html_content = driver.page_source

        # parse the html and store the results in a beautifulsoup object
        soup = BeautifulSoup(html_content, 'lxml')

        for a in soup.find_all('a', class_='hotel_name_link url', href=True):
            url_sub = a['href'].strip()
            pages_url.append(''.join([url_main, url_sub]))

# write the results to a csv
pd.DataFrame(pages_url).to_csv('pages.csv')